

Лабораторная работа №4

Лабораторная и видео с демонстрацией функционала: 3 semestr->ISP->Lr4 

Далее будет описание к видео

В решении 7 проектов. Каждый из них отвечает за определенный функционал: Data Manager - основной проект File Manager - Windows-служба из прошлой лабораторной Data Access Layer - Взаимодействие с базой данных Models - основа данных, которые мы получим из БД Service Layer - Создание и взаимодействие с Xml/Json файлами(создаются они на основе данных из БД). Configuration Manager - проект,связвязывающий 3 и 4 лабораторныеработы. LoggerToDB - запись исключительных ситуаций в базу данных ErrorLogs

Data Manager - основной проект исполнения в данном решении. Имнно в нем находится небольшое WPF-приложение, с помощью которого немного проще понять, что же это лабораторная все же может. По названию кнопок можно понять о их функционале, но все же стоит объяснить Буду перчислять в таком порядке, в каком их нужно запустить для правильной работы программы

    Подключение к базе данных. В своем обработчике содержит методы подключение и взаимодействие с БД. Речь о классе ConntctionToDataBase, а именно о его методе ConnectAndInteractWithDB()

    Узнать состояние подключения. Класс тот же, но используем метод GetDataBaseInfo() (Данная кнопка опциональна для корректной работы программы, но проверить подключение все же стоит)

    Создать файлы конфигурации. В своем обработчике использует уже классы XmlFile и JsonFile, которые в свою очередь наследуются от интерфейса IConfigGenerating(все это из namespace ServiceLayer)

    Начать отслеживание. Перенесено из 3-ей лабораторной работы, ну и собственно она запускает Windows-службу, которая находится namespace File Manager(мониторить будем те же папки, что и в 3-ей лабе)

    Перенести файлы конфигурации в исходную FTP папку.Это кнопка, по сути, ключевая часть данной лабораторной, т.к. она выступает связующим между 3 и 4-ой лабы(тут и вступает в действие Configuration Manager). Если немного поконкретнее, то она переносит созданные Xml/Json файлы в папку source, которую в свою очередь мониторит File Manager. Собственно, при переносе файлов Windows - служба реагирует на появление двух новых файлов и создает два новых архива в папке archive, два новых encrypted файла в папке extract(собственно, на данном этапе отработала вся 3-я лаба)

    Остановить отслеживание. Останавливает Windows-службу.

    Отключиться от базы данных.
И небольшое лирическое отсупление про LoggerToDB. При возникновении ошибок, вызовется метод WriteErrorsToDataBase() из класса ErrorLogger. Далее ошибки записываются в базу данных ErrorLogs, где мы можем затем посмотреть сообщение ошибки и время ошибки.
